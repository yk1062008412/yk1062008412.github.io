
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>shell学习笔记-基本语法及操作符 | yk</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="yk">
    
    <meta name="description" content="本章讲述了shell的基本语法及操作符。
入门-e 执行控制字符echo -e “\a”



控制字符
作用




\a
警告音


\b
退格键，即向左删除一格


\n
换行符


\r
回车键


\t
制表符，即Tab键


\v
垂直制表符


\0nnn
八进制输出


\xhh
十">
    
    
    
    
    <link rel="alternate" href="/atom.xml" title="yk" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.png">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.png">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="yk" title="yk"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="yk">yk</a></h1>
				<h2 class="blog-motto">无巧不成书之草色遥看</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/share">分享</a></li>
					
						<li><a href="/essay">随笔</a></li>
					
						<li><a href="/about">关于我</a></li>
					
					<li>
					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/01/shell学习笔记-基本语法及操作符/" title="shell学习笔记-基本语法及操作符" itemprop="url">shell学习笔记-基本语法及操作符</a>
  </h1>
  <p class="article-author">By
    
      <a href="https://yk1062008412.github.io" title="yk">yk</a>
    </p>
  <p class="article-time">
    <time datetime="2017-11-01T07:39:32.000Z" itemprop="datePublished">2017-11-01</time>
    更新日期:<time datetime="2019-11-25T09:16:05.829Z" itemprop="dateModified">2019-11-25</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#入门"><span class="toc-number">1.</span> <span class="toc-text">入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#e-执行控制字符"><span class="toc-number">1.1.</span> <span class="toc-text">-e 执行控制字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字体颜色"><span class="toc-number">1.2.</span> <span class="toc-text">字体颜色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#脚本执行"><span class="toc-number">1.3.</span> <span class="toc-text">脚本执行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bash的基本功能"><span class="toc-number">2.</span> <span class="toc-text">bash的基本功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#查看与设定别名"><span class="toc-number">2.1.</span> <span class="toc-text">查看与设定别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#别名永久生效"><span class="toc-number">2.2.</span> <span class="toc-text">别名永久生效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用快捷键"><span class="toc-number">2.3.</span> <span class="toc-text">常用快捷键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输出重定向"><span class="toc-number">3.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入重定向"><span class="toc-number">4.</span> <span class="toc-text">输入重定向</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#管道符"><span class="toc-number">5.</span> <span class="toc-text">管道符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#多命令顺序执行"><span class="toc-number">5.1.</span> <span class="toc-text">多命令顺序执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#管道符-1"><span class="toc-number">5.2.</span> <span class="toc-text">管道符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#通配符"><span class="toc-number">6.</span> <span class="toc-text">通配符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bash中其他特殊符号"><span class="toc-number">6.1.</span> <span class="toc-text">bash中其他特殊符号</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bash变量"><span class="toc-number">7.</span> <span class="toc-text">Bash变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是变量"><span class="toc-number">7.1.</span> <span class="toc-text">什么是变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量的分类"><span class="toc-number">7.2.</span> <span class="toc-text">变量的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用户自定义变量"><span class="toc-number">7.2.1.</span> <span class="toc-text">用户自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境变量"><span class="toc-number">7.2.2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#语系变量"><span class="toc-number">7.2.3.</span> <span class="toc-text">语系变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#位置参数变量"><span class="toc-number">7.2.4.</span> <span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#预定义变量"><span class="toc-number">7.2.5.</span> <span class="toc-text">预定义变量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell变量"><span class="toc-number">8.</span> <span class="toc-text">shell变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#declare声明变量类型"><span class="toc-number">8.1.</span> <span class="toc-text">declare声明变量类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数值运算方法"><span class="toc-number">8.2.</span> <span class="toc-text">数值运算方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量测试"><span class="toc-number">8.3.</span> <span class="toc-text">变量测试</span></a></li></ol></li></ol>
		</div>
		
		<p>本章讲述了shell的基本语法及操作符。</p>
<h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="e-执行控制字符"><a href="#e-执行控制字符" class="headerlink" title="-e 执行控制字符"></a>-e 执行控制字符</h2><p>echo -e “\a”</p>
<table>
<thead>
<tr>
<th>控制字符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>警告音</td>
</tr>
<tr>
<td>\b</td>
<td>退格键，即向左删除一格</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车键</td>
</tr>
<tr>
<td>\t</td>
<td>制表符，即Tab键</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\0nnn</td>
<td>八进制输出</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制输出</td>
</tr>
</tbody>
</table>
<h2 id="字体颜色"><a href="#字体颜色" class="headerlink" title="字体颜色"></a>字体颜色</h2><p>echo -e “\e[1;31m 文字 \e[0m”</p>
<p>\e:调用颜色<br>[1:开启颜色选项<br>\e[0：关闭颜色选项</p>
<table>
<thead>
<tr>
<th>代码</th>
<th>颜色</th>
</tr>
</thead>
<tbody>
<tr>
<td>30m</td>
<td>黑色</td>
</tr>
<tr>
<td>31m</td>
<td>红色</td>
</tr>
<tr>
<td>32m</td>
<td>绿色</td>
</tr>
<tr>
<td>33m</td>
<td>黄色</td>
</tr>
<tr>
<td>34m</td>
<td>蓝色</td>
</tr>
<tr>
<td>35m</td>
<td>洋红色</td>
</tr>
<tr>
<td>36m</td>
<td>青色</td>
</tr>
<tr>
<td>37m</td>
<td>白色</td>
</tr>
</tbody>
</table>
<h2 id="脚本执行"><a href="#脚本执行" class="headerlink" title="脚本执行"></a>脚本执行</h2><ul>
<li><p>赋予执行权限，直接运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod 755 hello.sh</div><div class="line">./hello.sh</div></pre></td></tr></table></figure>
</li>
<li><p>通过bash调用执行脚本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bash hello.sh</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="bash的基本功能"><a href="#bash的基本功能" class="headerlink" title="bash的基本功能"></a>bash的基本功能</h1><h2 id="查看与设定别名"><a href="#查看与设定别名" class="headerlink" title="查看与设定别名"></a>查看与设定别名</h2><p>查看别名：alias</p>
<p>设定别名：</p>
<p>alias 别名=’原命令’</p>
<h2 id="别名永久生效"><a href="#别名永久生效" class="headerlink" title="别名永久生效"></a>别名永久生效</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">vi ~/.bashrc</div><div class="line"># 写入环境变量配置文件</div></pre></td></tr></table></figure>
<p>删除别名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unalias 别名</div></pre></td></tr></table></figure></p>
<h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><table>
<thead>
<tr>
<th>快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctrl+c</td>
<td>强制终止当前命令</td>
</tr>
<tr>
<td>ctrl+l</td>
<td>清屏</td>
</tr>
<tr>
<td>ctrl+a</td>
<td>光标移动到命令行首</td>
</tr>
<tr>
<td>ctrl+e</td>
<td>光标移动到命令行尾</td>
</tr>
<tr>
<td>ctrl+u</td>
<td>从光标所在位置删除到行首</td>
</tr>
<tr>
<td>ctrl+z</td>
<td>把命令放入后台</td>
</tr>
<tr>
<td>ctrl+r</td>
<td>在历史命令中搜索</td>
</tr>
</tbody>
</table>
<h1 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig &gt; test.log</div></pre></td></tr></table></figure>
<p>将ifconfig应该显示到显示器上的内容，写入test.log中。如果test.log有内容，则覆盖内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig &gt;&gt; test.log</div></pre></td></tr></table></figure>
<p>将ifconfig应该显示到显示器上的内容，写入test.log中。如果test.log有内容，则追加内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">aaaaaa 2&gt; test.log</div></pre></td></tr></table></figure>
<p>将命令的错误输出，输出到指定的文件，写入test.log中。如果test.log有内容，则覆盖内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">aaaaaa 2&gt;&gt; test.log</div></pre></td></tr></table></figure>
<p>将命令的错误输出，输出到指定的文件，写入test.log中。如果test.log有内容，则追加内容。</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>命令 &gt; 文件 2&gt;&amp;1</td>
<td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中。</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件 2&gt;&amp;1</td>
<td>以追加的方式，把正确输出和错误输出都保存到同一个文件当中。</td>
</tr>
<tr>
<td>命令 &amp;&gt; 文件</td>
<td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中。</td>
</tr>
<tr>
<td>命令 &amp;&gt;&gt; 文件</td>
<td>以追加的方式，把正确输出和错误输出都保存到同一个文件当中。</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件a 2&gt;&gt;文件b</td>
<td>把正确的输出追加到文件a中，把错误的输出追加到文件b中</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">命令 &amp;&gt;/dev/null</div></pre></td></tr></table></figure>
<p>将命令的运行结果丢弃，弃之不用。</p>
<h1 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wc &lt; test.log</div><div class="line">或者</div><div class="line">wc test.log</div></pre></td></tr></table></figure>
<p>统计test.log文件下的行数，单词数，字符数</p>
<p><strong>wc 的选项：</strong></p>
<ul>
<li>-c：统计字节数</li>
<li>-w：统计单词数</li>
<li>-l：统计行数</li>
</ul>
<h1 id="管道符"><a href="#管道符" class="headerlink" title="管道符"></a>管道符</h1><h2 id="多命令顺序执行"><a href="#多命令顺序执行" class="headerlink" title="多命令顺序执行"></a>多命令顺序执行</h2><table>
<thead>
<tr>
<th>多命令执行符</th>
<th>格式</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>;</td>
<td>命令1;命令2</td>
<td>多个命令顺序执行，命令之间没有任何逻辑联系</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>命令1&amp;&amp;命令2</td>
<td>逻辑与；当命令1正确执行，则命令2才会执行；当命令1执行不正确，则命令2不会执行</td>
</tr>
<tr>
<td>&#124;&#124;</td>
<td>命令1&#124;&#124;命令2</td>
<td>逻辑或；当命令1执行不正确，则命令2才会执行；当命令1正确执行，则命令2不会执行</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">命令 &amp;&amp; echo yes || echo no</div><div class="line">ls &amp;&amp; echo yes || echo no</div></pre></td></tr></table></figure>
<p>即：如果命令正确执行，输出yes，如果没有正确执行，输出no。</p>
<h2 id="管道符-1"><a href="#管道符-1" class="headerlink" title="管道符"></a>管道符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">语法：命令1 | 命令2</div></pre></td></tr></table></figure>
<p>命令1的正确输出作为命令2的操作对象。</p>
<p>常用管道符： grep、more、wc</p>
<h1 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h1><table>
<thead>
<tr>
<th>通配符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>匹配一个任意字符。</td>
</tr>
<tr>
<td>*</td>
<td>匹配0个或任意多个任意字符，即匹配任何内容。</td>
</tr>
<tr>
<td>[]</td>
<td>匹配中括号中任意一个字符。例如:[abc]</td>
</tr>
<tr>
<td>[-]</td>
<td>匹配中括号中任意一个字符，-代表范围。例如：[a-z]</td>
</tr>
<tr>
<td>[^]</td>
<td>逻辑非，表示匹配不是中括号内的一个字符。例如：[^0-9]代表匹配非数字字符</td>
</tr>
</tbody>
</table>
<h2 id="bash中其他特殊符号"><a href="#bash中其他特殊符号" class="headerlink" title="bash中其他特殊符号"></a>bash中其他特殊符号</h2><table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘’</td>
<td>单引号。单引号中的所有特殊符号，如“$”,“`”都没有特殊含义。</td>
</tr>
<tr>
<td>“”</td>
<td>双引号。双引号中的特殊符号没有特殊含义，但“$”，“`”，“\”例外，分别表示“调用变量的值”，“引用命令”，“转义符”</td>
</tr>
<tr>
<td>``</td>
<td>反引号。反引号括起来的内容是系统命令，在bash中会先执行它，和$()作用一样，不过推荐使用$(),因为反引号非常容易看错</td>
</tr>
<tr>
<td>$()</td>
<td>和反引号作用相同，用来引用系统命令。</td>
</tr>
<tr>
<td>#</td>
<td>在shell脚本中，#开头的行表示注释</td>
</tr>
<tr>
<td>$</td>
<td>用于调用变量的值，如需要调用变量name的值时，需要用$name的方式得到变量的值</td>
</tr>
<tr>
<td>\</td>
<td>转义符，跟在\之后的特殊符号将失去特殊含义，变为普通字符。如\$将输出“$”符号，而不当做是变量引用。</td>
</tr>
</tbody>
</table>
<h1 id="Bash变量"><a href="#Bash变量" class="headerlink" title="Bash变量"></a>Bash变量</h1><h2 id="什么是变量"><a href="#什么是变量" class="headerlink" title="什么是变量"></a>什么是变量</h2><p><strong>在Bash中，变量的默认类型都是字符型。</strong></p>
<p>查看所有变量命令：set.</p>
<p>查看环境变量命令：env.</p>
<p>set -u:如果设定此选项，调用未声明变量时会报错(默认无任何提示)。</p>
<p>删除变量：unset。</p>
<p>例：unset name；删除name变量</p>
<p><strong>删除变量name，直接写变量名name就可以了，不需要写变量值$name;</strong></p>
<h2 id="变量的分类"><a href="#变量的分类" class="headerlink" title="变量的分类"></a>变量的分类</h2><h3 id="用户自定义变量"><a href="#用户自定义变量" class="headerlink" title="用户自定义变量"></a>用户自定义变量</h3><p>变量名=变量值</p>
<p><strong>等号左右均没有空格！！！</strong></p>
<p>如果变量值有空格，必须用双引号或单引号包含起来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">例：</div><div class="line">    x=5</div><div class="line">    name=&quot;zhang san&quot;</div></pre></td></tr></table></figure>
<p>变量叠加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">x=123       # x=123</div><div class="line">x=&quot;$x&quot;456   # x=123456</div><div class="line">x=$&#123;x&#125;789   # x=123456789</div></pre></td></tr></table></figure>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>环境变量是全局变量，在所有shell中都有效；<br>用户自定义变量是局部变量，只在当前shell中有效。</p>
<p>用户定义环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export 变量名=变量值</div><div class="line">或</div><div class="line">变量名=变量值</div><div class="line">export 变量名</div></pre></td></tr></table></figure></p>
<p>常用环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">HOSTNAME:主机名</div><div class="line">SHELL:当前的shell</div><div class="line">TERM:终端环境</div><div class="line">HISTSIZE:历史命令条数</div><div class="line">SSH_CLIENT:当前操作环境是用ssh连接的，这里记录客户端ip</div><div class="line">SSH_TTY:ssh连接的终端是pts/1</div><div class="line">USER:当前登录的用户</div></pre></td></tr></table></figure></p>
<h3 id="语系变量"><a href="#语系变量" class="headerlink" title="语系变量"></a>语系变量</h3><p>语言支持</p>
<p>安装第三方插件 zhcon 可以使Linux支持中文。</p>
<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><table>
<thead>
<tr>
<th>位置参数变量</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>$n</td>
<td>n为数字，$0代表命令本身，$1-$9代表第1到第9个参数，10以上的参数需要用大括号包含，如${10}.</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>这个变量代表命令行中所有的参数，<code>$*</code>把所有的参数看成一个整体.</td>
</tr>
<tr>
<td>$@</td>
<td>这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待.</td>
</tr>
<tr>
<td>$#</td>
<td>这个变量代表命令行中所有参数的个数.</td>
</tr>
</tbody>
</table>
<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><table>
<thead>
<tr>
<th>预定义变量</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>$?</td>
<td>最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0(具体是哪个数，由命令自己来决定),则证明上一个命令执行不正确</td>
</tr>
<tr>
<td>$$</td>
<td>当前进程的进程号(PID)</td>
</tr>
<tr>
<td>$!</td>
<td>后台运行的最后一个进程的进程号(PID)</td>
</tr>
</tbody>
</table>
<p><strong>接收键盘输入</strong></p>
<p>接收键盘输入命令：read</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">read [选项] [变量名]</div><div class="line">- 选项：</div><div class="line">    * -p &quot;提示信息&quot;：在等待read输入时，输出提示信息</div><div class="line">    * -t 秒数：read命令默认会一直等待用户输入，使用此选项可以设置等待时间</div><div class="line">    * -n 字符数：read命令只接受指定的字符数，就会执行</div><div class="line">    * -s 隐藏：read命令隐藏输入的内容，适用于密码等机密信息的输入</div></pre></td></tr></table></figure>
<h1 id="shell变量"><a href="#shell变量" class="headerlink" title="shell变量"></a>shell变量</h1><p>缺点：</p>
<ul>
<li>弱类型</li>
<li>默认字符串型</li>
</ul>
<h2 id="declare声明变量类型"><a href="#declare声明变量类型" class="headerlink" title="declare声明变量类型"></a>declare声明变量类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">语法：declare [+/-][选项] 变量名</div><div class="line">选项：</div><div class="line">    -：给变量设定类型属性</div><div class="line">    +：取消变量的类型属性</div><div class="line">    -a:将变量声明为数组型</div><div class="line">    -i:将变量声明为整数型(integer)</div><div class="line">    -x:将变量声明为环境变量</div><div class="line">    -r:将变量声明为只读变量</div><div class="line">    -p:显示指定变量的被声明的类型</div></pre></td></tr></table></figure>
<p><strong>export test=1 相当于 declare -x test=1,都是将变量声明为环境变量</strong></p>
<p>声明数组变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 声明数组</div><div class="line">a[0]=js</div><div class="line">a[1]=jq</div><div class="line">declare -a a[2]=css</div><div class="line">// 查看数组</div><div class="line">echo $&#123;a&#125;       // js</div><div class="line">echo $&#123;a[2]&#125;    // css</div><div class="line">echo $&#123;a[*]&#125;    // js jq css</div></pre></td></tr></table></figure>
<h2 id="数值运算方法"><a href="#数值运算方法" class="headerlink" title="数值运算方法"></a>数值运算方法</h2><p>方法1：declare 运算符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a=1</div><div class="line">b=2</div><div class="line">declare -i c=$a+$b</div><div class="line">echo $c</div></pre></td></tr></table></figure>
<p>方法2：expr 和 let 数值运算工具</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a=1</div><div class="line">b=2</div><div class="line">c=$(expr $a + $b)</div><div class="line"># c的值是a和b的和。注意！！！&apos;+&apos;号左右两侧必须有空格</div><div class="line">echo $c</div></pre></td></tr></table></figure>
<p>方法3：”$((运算式))” 或者 “$[运算式]”</p>
<p><strong>推荐使用$(())</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a=1</div><div class="line">b=2</div><div class="line">c=$(($a+$b))</div><div class="line">echo $c</div></pre></td></tr></table></figure>
<p>运算符优先级：</p>
<p>优先级越大的先执行</p>
<table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>13</td>
<td>-,+</td>
<td>此处代表正负数，不是加减</td>
</tr>
<tr>
<td>12</td>
<td>!,~</td>
<td>逻辑非，按位取反或补码</td>
</tr>
<tr>
<td>11</td>
<td>*,/,%</td>
<td>乘，除，取模</td>
</tr>
<tr>
<td>10</td>
<td>+,-</td>
<td>加，减</td>
</tr>
<tr>
<td>9</td>
<td>&lt;&lt;,&gt;&gt;</td>
<td>按位左移，按位右移</td>
</tr>
<tr>
<td>8</td>
<td>&lt;=,&gt;=,&lt;,&gt;</td>
<td>小于等于，大于等于，小于，大于</td>
</tr>
<tr>
<td>7</td>
<td>==,!=</td>
<td>等于，不等于</td>
</tr>
<tr>
<td>6</td>
<td>&amp;</td>
<td>按位与</td>
</tr>
<tr>
<td>5</td>
<td>^</td>
<td>按位异或</td>
</tr>
<tr>
<td>4</td>
<td>&#124;</td>
<td>按位或</td>
</tr>
<tr>
<td>3</td>
<td>&amp;&amp;</td>
<td>逻辑与</td>
</tr>
<tr>
<td>2</td>
<td>&#124;&#124;</td>
<td>逻辑或</td>
</tr>
<tr>
<td>1</td>
<td>=,+=,-=,*=,/=,%=,&amp;=,^=,&#124;=,&lt;&lt;=,&gt;&gt;=</td>
<td>赋值，运算且赋值</td>
</tr>
</tbody>
</table>
<h2 id="变量测试"><a href="#变量测试" class="headerlink" title="变量测试"></a>变量测试</h2><ul>
<li>变量测试仅仅适用于shell编程</li>
<li>变量测试在脚本优化的时候有用</li>
</ul>
<p>本章完！</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Shell/">Shell</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux/">Linux</a>
</div>



<div class="article-share" id="share">

  <div data-url="https://yk1062008412.github.io/2017/11/01/shell学习笔记-基本语法及操作符/" data-title="shell学习笔记-基本语法及操作符 | yk" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/11/01/shell学习笔记-环境变量配置文件/" title="shell学习笔记-环境变量配置文件">
  <strong>PREVIOUS:</strong><br/>
  <span>
  shell学习笔记-环境变量配置文件</span>
</a>
</div>


<div class="next">
<a href="/2017/08/01/Linux常用命令/"  title="Linux常用命令">
 <strong>NEXT:</strong><br/> 
 <span>Linux常用命令
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#入门"><span class="toc-number">1.</span> <span class="toc-text">入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#e-执行控制字符"><span class="toc-number">1.1.</span> <span class="toc-text">-e 执行控制字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字体颜色"><span class="toc-number">1.2.</span> <span class="toc-text">字体颜色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#脚本执行"><span class="toc-number">1.3.</span> <span class="toc-text">脚本执行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bash的基本功能"><span class="toc-number">2.</span> <span class="toc-text">bash的基本功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#查看与设定别名"><span class="toc-number">2.1.</span> <span class="toc-text">查看与设定别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#别名永久生效"><span class="toc-number">2.2.</span> <span class="toc-text">别名永久生效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用快捷键"><span class="toc-number">2.3.</span> <span class="toc-text">常用快捷键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输出重定向"><span class="toc-number">3.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入重定向"><span class="toc-number">4.</span> <span class="toc-text">输入重定向</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#管道符"><span class="toc-number">5.</span> <span class="toc-text">管道符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#多命令顺序执行"><span class="toc-number">5.1.</span> <span class="toc-text">多命令顺序执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#管道符-1"><span class="toc-number">5.2.</span> <span class="toc-text">管道符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#通配符"><span class="toc-number">6.</span> <span class="toc-text">通配符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bash中其他特殊符号"><span class="toc-number">6.1.</span> <span class="toc-text">bash中其他特殊符号</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bash变量"><span class="toc-number">7.</span> <span class="toc-text">Bash变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是变量"><span class="toc-number">7.1.</span> <span class="toc-text">什么是变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量的分类"><span class="toc-number">7.2.</span> <span class="toc-text">变量的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用户自定义变量"><span class="toc-number">7.2.1.</span> <span class="toc-text">用户自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境变量"><span class="toc-number">7.2.2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#语系变量"><span class="toc-number">7.2.3.</span> <span class="toc-text">语系变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#位置参数变量"><span class="toc-number">7.2.4.</span> <span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#预定义变量"><span class="toc-number">7.2.5.</span> <span class="toc-text">预定义变量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell变量"><span class="toc-number">8.</span> <span class="toc-text">shell变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#declare声明变量类型"><span class="toc-number">8.1.</span> <span class="toc-text">declare声明变量类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数值运算方法"><span class="toc-number">8.2.</span> <span class="toc-text">数值运算方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量测试"><span class="toc-number">8.3.</span> <span class="toc-text">变量测试</span></a></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/CSS/" title="CSS">CSS<sup>6</sup></a></li>
		
			<li><a href="/categories/ECMAScript-6/" title="ECMAScript 6">ECMAScript 6<sup>1</sup></a></li>
		
			<li><a href="/categories/Javascript/" title="Javascript">Javascript<sup>6</sup></a></li>
		
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>4</sup></a></li>
		
			<li><a href="/categories/React/" title="React">React<sup>2</sup></a></li>
		
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>1</sup></a></li>
		
			<li><a href="/categories/前端开发/" title="前端开发">前端开发<sup>5</sup></a></li>
		
			<li><a href="/categories/移动端开发/" title="移动端开发">移动端开发<sup>2</sup></a></li>
		
			<li><a href="/categories/面试/" title="面试">面试<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/CSS/" title="CSS">CSS<sup>2</sup></a></li>
		
			<li><a href="/tags/CSS3/" title="CSS3">CSS3<sup>4</sup></a></li>
		
			<li><a href="/tags/ES6/" title="ES6">ES6<sup>1</sup></a></li>
		
			<li><a href="/tags/Echarts/" title="Echarts">Echarts<sup>1</sup></a></li>
		
			<li><a href="/tags/HTML/" title="HTML">HTML<sup>1</sup></a></li>
		
			<li><a href="/tags/Javascript/" title="Javascript">Javascript<sup>11</sup></a></li>
		
			<li><a href="/tags/Linux/" title="Linux">Linux<sup>4</sup></a></li>
		
			<li><a href="/tags/React/" title="React">React<sup>2</sup></a></li>
		
			<li><a href="/tags/SASS/" title="SASS">SASS<sup>1</sup></a></li>
		
			<li><a href="/tags/Shell/" title="Shell">Shell<sup>3</sup></a></li>
		
			<li><a href="/tags/hexo/" title="hexo">hexo<sup>1</sup></a></li>
		
			<li><a href="/tags/前端面试/" title="前端面试">前端面试<sup>2</sup></a></li>
		
			<li><a href="/tags/小程序/" title="小程序">小程序<sup>1</sup></a></li>
		
			<li><a href="/tags/移动端/" title="移动端">移动端<sup>2</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart" style="display:none;">
	<a href="/atom.xml" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2019 
		
		<a href="https://yk1062008412.github.io" target="_blank" title="yk">yk</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
      var html = [
        '<a href="#" class="overlay" id="qrcode"></a>',
        '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
        '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
        '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
        '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
        '<span title="Share to"></span>'
        ].join('');
      $this.append(html);
      $('.article-share-qrcode').click(function(){
        var imgSrc = $('#qrcode-pic').attr('data-src');
        $('#qrcode-pic').attr('src', imgSrc);
        $('#qrcode-pic').load(function(){
            $('.qrcode strong').text(' ');
        });
      });
});     
</script>





<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'null', 'null');  
ga('send', 'pageview');
</script>


  </body>
</html>
